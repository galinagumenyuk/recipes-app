{"version":3,"file":"static/js/320.cd019807.chunk.js","mappings":"8GAAO,SAASA,IACd,OAAOC,MACL,uHAECC,MAAK,SAACC,GAAG,OAAKA,EAAIC,MAAM,IACxBF,MAAK,SAACG,GAEL,OADAC,QAAQC,IAAI,UAAWF,EAAKG,SACrBH,EAAKG,OACd,GACJ,CAEO,SAASC,EAAqBC,GACnC,OAAOT,MAAM,2DAADU,OACiDD,EAAK,iEAChER,MAAK,SAACC,GAAG,OACTA,EAAIC,OAAOF,MAAK,SAACG,GAEf,OADAC,QAAQC,IAAI,WAAaG,EAAQ,KAAML,EAAKO,SACrCP,EAAKO,OACd,GAAE,GAEN,CAEO,SAASC,EAAmBC,GACjC,OAAOb,MAAM,uCAADU,OAC6BG,EAAQ,mEAE9CZ,MAAK,SAACC,GAAG,OAAKA,EAAIC,MAAM,IACxBF,MAAK,SAACG,GAEL,OADAC,QAAQC,IAAIF,GACLA,CACT,GACJ,CAEO,SAASU,EAAgBD,GAC9B,OAAOb,MAAM,wCAADU,OAC8BG,EAAQ,0DAE/CZ,MAAK,SAACC,GAAG,OAAKA,EAAIC,MAAM,IACxBF,MAAK,SAACG,GAEL,OADAC,QAAQC,IAAI,iBAAkBF,GACvBA,CACT,GACJ,CAEO,SAASW,IACd,OAAOf,MAAM,iCACVC,MAAK,SAACC,GAAG,OAAKA,EAAIC,MAAM,IACxBF,MAAK,SAACG,GAEL,OADAC,QAAQC,IAAI,cAAeF,GACpBA,CACT,GACJ,C,gNClDA,EAAwB,wBAAxB,EAAuD,uBAAvD,EAAwF,0BAAxF,EAAkI,gCAAlI,EAAyK,uBAAzK,EAA2M,2BAA3M,EAA4O,sB,2BCgE5O,EA5DiB,WAEb,IAAAY,GAA8BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAnCT,EAAOW,EAAA,GAAEE,EAAUF,EAAA,GAC1BG,GAAgCJ,EAAAA,EAAAA,WAAS,GAAMK,GAAAH,EAAAA,EAAAA,GAAAE,EAAA,GAAxCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,IAE5BG,EAAAA,EAAAA,YAAU,WACNC,EAAAA,KAA4BzB,KAAKmB,EACrC,GAAG,CAACG,IAsBJ,OACII,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACIC,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAQH,SAAC,gBACxBC,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAUH,SAClBrB,EACHA,EAAQyB,KAAI,SAAAC,GAAM,OACdJ,EAAAA,EAAAA,KAAA,MAAoBC,UAAWC,EAAOH,UAClCD,EAAAA,EAAAA,MAAA,OAAKG,UAAWC,EAAgBH,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAOH,SAAEK,EAAOC,SAC/BL,EAAAA,EAAAA,KAAA,UAAQM,KAAK,SAASC,QAAS,kBA5BjCC,EA4BoDJ,EAAOI,QA3BjFrC,MAAM,iCAADU,OAAkC2B,GAAM,CAC3CC,OAAQ,WAEPrC,MAAK,SAACC,GACL,IAAKA,EAAIqC,GACP,MAAM,IAAIC,MAAMtC,EAAIuC,YAEtB,OAAOvC,EAAIwC,MACb,IACCzC,MAAK,SAACG,GACLoB,GAAaD,EACf,IACGoB,OAAM,SAACC,GACRvC,QAAQC,IAAIsC,EACd,IAfmB,IAACP,CA4B8D,EAAEP,UAAWC,EAAMH,SAAC,YAChFC,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAWH,SAAC,kBAC3BC,EAAAA,EAAAA,KAAA,MAAAD,SACKK,GAAUA,EAAOY,YAAYb,KAAI,SAAAc,GAAU,OAC5CnB,EAAAA,EAAAA,MAAA,MAAwBG,UAAWC,EAAOH,SAAA,CACzCkB,EAAWC,KAAK,MAAID,EAAWE,SAASC,GAAGC,OAAO,IAAEJ,EAAWE,SAASC,GAAGE,YADnEL,EAAWT,GAEf,OAETR,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAWH,SAAC,kBAC9BC,EAAAA,EAAAA,KAAA,MAAAD,SACQK,EAAOmB,OAASnB,EAAOmB,MAAMpB,KAAI,SAAAqB,GAAI,OACtCxB,EAAAA,EAAAA,KAAA,MAAsBC,UAAWC,EAAOH,SACvCyB,EAAKA,MADGA,EAAKC,OAET,UAhBRrB,EAAOI,GAmBX,KArBIR,EAAAA,EAAAA,KAAA,KAAAD,SAAG,+BAyBhC,C","sources":["APIservice.js","webpack://recipes-app/./src/components/UserPage/UserPage.module.css?5ca6","components/UserPage/UserPage.jsx"],"sourcesContent":["export function fetchRandomRecipes() {\r\n  return fetch(\r\n    \"https://api.spoonacular.com/recipes/random?number=9&apiKey=f95d9195e7114ffc9be334209a52d0bb&tags=vegetarian,dessert\"\r\n  )\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      console.log(\"random:\", data.recipes);\r\n      return data.recipes;\r\n    });\r\n}\r\n\r\nexport function fetchRecipeByKeyWord(query) {\r\n  return fetch(\r\n    `https://api.spoonacular.com/recipes/complexSearch?query=${query}&maxFat=25&number=12&apiKey=f95d9195e7114ffc9be334209a52d0bb`\r\n  ).then((res) =>\r\n    res.json().then((data) => {\r\n      console.log(\"search [\" + query + \"]:\", data.results);\r\n      return data.results;\r\n    })\r\n  );\r\n}\r\n\r\nexport function fetchRecipeDetails(recipeID) {\r\n  return fetch(\r\n    `https://api.spoonacular.com/recipes/${recipeID}/analyzedInstructions?&apiKey=f95d9195e7114ffc9be334209a52d0bb`\r\n  )\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      console.log(data);\r\n      return data;\r\n    });\r\n}\r\n\r\nexport function fetchRecipeByID(recipeID) {\r\n  return fetch(\r\n    ` https://api.spoonacular.com/recipes/${recipeID}/information?&apiKey=f95d9195e7114ffc9be334209a52d0bb`\r\n  )\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      console.log(\"recipe details\", data);\r\n      return data;\r\n    });\r\n}\r\n\r\nexport function getUserRecipes() {\r\n  return fetch(\"http://localhost:8800/recipes\")\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      console.log(\"userRecipes\", data);\r\n      return data;\r\n    });\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"UserPage_title__Oa5OJ\",\"item\":\"UserPage_item__OeljQ\",\"wrapper\":\"UserPage_wrapper__CyyHe\",\"cardContainer\":\"UserPage_cardContainer__CT9sO\",\"name\":\"UserPage_name__dIRzP\",\"subtitle\":\"UserPage_subtitle__K2C9K\",\"btn\":\"UserPage_btn__k+POF\"};","import s from \"./UserPage.module.css\";\r\nimport * as apiService from \"../../APIservice\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\n\r\nconst UserPage = () => { \r\n\r\n    const [recipes, setRecipes] = useState([]);\r\n    const [isDelete, setIsDelete] = useState(false);\r\n\r\n    useEffect(() => {\r\n        apiService.getUserRecipes().then(setRecipes);\r\n    }, [isDelete]);\r\n\r\n\r\n    const handleDelete = (id) => {  \r\n    fetch(`http://localhost:8800/recipes/${id}`, {\r\n      method: 'DELETE',\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw new Error(res.statusText);\r\n        }\r\n        return res.text();\r\n      })\r\n      .then((data) => {\r\n        setIsDelete(!isDelete);\r\n      })\r\n        .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h2 className={s.title}>My library</h2>\r\n            <ul className={s.wrapper}>\r\n                 {!recipes ? <p>There is no recipe yet</p> : \r\n                recipes.map(recipe =>\r\n                    <li key={recipe.id} className={s.item}>\r\n                        <div className={s.cardContainer}>\r\n                            <h2 className={s.name}>{recipe.title}</h2>\r\n                            <button type=\"button\" onClick={() => handleDelete(recipe.id)} className={s.btn}>Delete</button>\r\n                            <h3 className={s.subtitle}>Ingredients:</h3>\r\n                            <ul>\r\n                                {recipe && recipe.ingredients.map(ingredient =>\r\n                                <li key={ingredient.id} className={s.item}>\r\n                                {ingredient.name} - {ingredient.measures.us.amount} {ingredient.measures.us.unitShort}\r\n                                </li>)}\r\n                            </ul>\r\n                            <h3 className={s.subtitle}>How to cook:</h3>\r\n                         <ul>\r\n                                {recipe.steps && recipe.steps.map(step =>\r\n                                <li key={step.number} className={s.item}>\r\n                                {step.step}\r\n                                </li>)}\r\n                            </ul>\r\n                        </div>\r\n                    </li>)}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserPage;"],"names":["fetchRandomRecipes","fetch","then","res","json","data","console","log","recipes","fetchRecipeByKeyWord","query","concat","results","fetchRecipeDetails","recipeID","fetchRecipeByID","getUserRecipes","_useState","useState","_useState2","_slicedToArray","setRecipes","_useState3","_useState4","isDelete","setIsDelete","useEffect","apiService","_jsxs","children","_jsx","className","s","map","recipe","title","type","onClick","id","method","ok","Error","statusText","text","catch","error","ingredients","ingredient","name","measures","us","amount","unitShort","steps","step","number"],"sourceRoot":""}